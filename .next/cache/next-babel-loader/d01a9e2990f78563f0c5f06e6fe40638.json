{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _isString from 'lodash-es/isString';\nexport default class HtmlComponent {\n  constructor() {\n    this.namespace = '';\n  }\n\n  bem(blockName) {\n    const bem = function () {\n      return this.classNames(...arguments);\n    }.bind(this);\n\n    bem.block = modifiers => {\n      return this._applyModifiers(blockName, modifiers);\n    };\n\n    bem.element = (elementName, modifiers) => {\n      return this._applyModifiers(blockName + '__' + elementName, modifiers);\n    };\n\n    return bem;\n  }\n\n  classNames() {\n    return Array.prototype.slice.call(arguments).filter(v => v).join(' ');\n  }\n\n  addClass(node, className) {\n    if (node && _isString(node.className)) {\n      const classes = node.className.split(' ');\n\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        node.className = classes.join(' ');\n      }\n    }\n  }\n\n  removeClass(node, className) {\n    if (node && _isString(node.className)) {\n      const classes = node.className.split(' ');\n      const index = classes.indexOf(className);\n\n      if (index !== -1) {\n        classes.splice(index, 1);\n        node.className = classes.join(' ');\n      }\n    }\n  }\n\n  closest(element, className) {\n    while ((element = element.parentElement) && !element.classList.contains(className)) {} // eslint-disable-line no-empty\n\n\n    return element;\n  }\n\n  _applyModifiers(entity, modifiers) {\n    let result = [];\n    result.push(entity);\n\n    if (typeof modifiers === 'string') {\n      result.push(entity + (modifiers ? '_' + modifiers : ''));\n    } else if (modifiers) {\n      _Object$keys(modifiers).forEach(key => {\n        const value = modifiers[key];\n\n        if (!value) {// Skip\n        } else if (value === true) {\n          result.push(entity + '_' + key);\n        } else {\n          result.push(entity + '_' + key + '_' + value);\n        }\n      });\n    } // Append namespace\n\n\n    result = result.map(cl => this.namespace + cl);\n    return result.join(' ');\n  }\n\n}\n;","map":{"version":3,"sources":["/usr/local/var/www/neutrino-web/node_modules/yii-steroids/components/HtmlComponent.js"],"names":["_isString","HtmlComponent","constructor","namespace","bem","blockName","classNames","arguments","bind","block","modifiers","_applyModifiers","element","elementName","Array","prototype","slice","call","filter","v","join","addClass","node","className","classes","split","indexOf","push","removeClass","index","splice","closest","parentElement","classList","contains","entity","result","forEach","key","value","map","cl"],"mappings":"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","sourcesContent":["import _isString from 'lodash-es/isString';\n\nexport default class HtmlComponent {\n\n    constructor() {\n        this.namespace = '';\n    }\n\n    bem(blockName) {\n        const bem = function () {\n            return this.classNames(...arguments);\n        }.bind(this);\n        bem.block = modifiers => {\n            return this._applyModifiers(blockName, modifiers);\n        };\n        bem.element = (elementName, modifiers) => {\n            return this._applyModifiers(blockName + '__' + elementName, modifiers);\n        };\n        return bem;\n    }\n\n    classNames() {\n        return Array.prototype.slice.call(arguments).filter(v => v).join(' ');\n    }\n\n    addClass(node, className) {\n        if (node && _isString(node.className)) {\n            const classes = node.className.split(' ');\n            if (classes.indexOf(className) === -1) {\n                classes.push(className);\n                node.className = classes.join(' ');\n            }\n        }\n    }\n\n    removeClass(node, className) {\n        if (node && _isString(node.className)) {\n            const classes = node.className.split(' ');\n            const index = classes.indexOf(className);\n            if (index !== -1) {\n                classes.splice(index, 1);\n                node.className = classes.join(' ');\n            }\n        }\n    }\n\n    closest(element, className) {\n        while ((element = element.parentElement) && !element.classList.contains(className)) {} // eslint-disable-line no-empty\n        return element;\n    }\n\n    _applyModifiers(entity, modifiers) {\n        let result = [];\n        result.push(entity);\n\n        if (typeof modifiers === 'string') {\n            result.push(entity + (modifiers ? '_' + modifiers : ''));\n        } else if (modifiers) {\n            Object.keys(modifiers).forEach(key => {\n                const value = modifiers[key];\n                if (!value) {\n                    // Skip\n                }\n                else if (value === true) {\n                    result.push(entity + '_' + key);\n                }\n                else {\n                    result.push(entity + '_' + key + '_' + value);\n                }\n            });\n        }\n\n        // Append namespace\n        result = result.map(cl => this.namespace + cl);\n\n        return result.join(' ');\n    }\n\n};\n"]},"metadata":{},"sourceType":"module"}