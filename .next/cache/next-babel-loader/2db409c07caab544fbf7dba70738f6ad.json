{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport cookie from 'js-cookie';\n\nvar ClientStorageComponent =\n/*#__PURE__*/\nfunction () {\n  function ClientStorageComponent() {\n    _classCallCheck(this, ClientStorageComponent);\n\n    this.localStorageAvailable = true;\n    this.sessionStorageAvailable = true;\n\n    try {\n      window.localStorage.setItem('localStorageAvailable', true);\n      window.localStorage.removeItem('localStorageAvailable');\n    } catch (e) {\n      this.localStorageAvailable = false;\n    }\n\n    try {\n      window.sessionStorage.setItem('sessionStorageAvailable', true);\n      window.sessionStorage.removeItem('sessionStorageAvailable');\n    } catch (e) {\n      this.sessionStorageAvailable = false;\n    }\n  }\n  /**\n   * @param {string} name\n   * @param {string} [storageName]\n   * @returns {*}\n   */\n\n\n  _createClass(ClientStorageComponent, [{\n    key: \"get\",\n    value: function get(name, storageName) {\n      storageName = storageName || this.STORAGE_LOCAL;\n\n      if (this.localStorageAvailable && storageName === this.STORAGE_LOCAL) {\n        return window.localStorage.getItem(name);\n      } else if (this.sessionStorageAvailable && storageName === this.STORAGE_SESSION) {\n        return window.sessionStorage.getItem(name);\n      }\n\n      return cookie.get(name);\n    }\n    /**\n     * @param {string} name\n     * @param {*} value\n     * @param {string} [storageName]\n     * @param {number|null} [expires]\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(name, value, storageName) {\n      var expires = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      storageName = storageName || this.STORAGE_LOCAL;\n\n      if (this.localStorageAvailable && storageName === this.STORAGE_LOCAL) {\n        window.localStorage.setItem(name, value);\n      } else if (this.sessionStorageAvailable && storageName === this.STORAGE_SESSION) {\n        window.sessionStorage.setItem(name, value);\n      } else {\n        cookie.set(name, value, {\n          expires: expires,\n          domain: this._getDomain()\n        });\n      }\n    }\n    /**\n     *\n     * @param {string} name\n     * @param {string} [storageName]\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(name, storageName) {\n      storageName = storageName || this.STORAGE_LOCAL;\n\n      if (this.localStorageAvailable && storageName === this.STORAGE_LOCAL) {\n        window.localStorage.removeItem(name);\n      } else if (this.sessionStorageAvailable && storageName === this.STORAGE_SESSION) {\n        window.sessionStorage.removeItem(name);\n      } else {\n        cookie.remove(name, {\n          domain: this._getDomain()\n        });\n      }\n    }\n  }, {\n    key: \"_getDomain\",\n    value: function _getDomain() {\n      var host = typeof location !== 'undefined' && location.hostname || '';\n      return host.split('.').slice(-2).join('.') || host;\n    }\n  }]);\n\n  return ClientStorageComponent;\n}();\n\n_defineProperty(ClientStorageComponent, \"STORAGE_SESSION\", 'session');\n\n_defineProperty(ClientStorageComponent, \"STORAGE_LOCAL\", 'local');\n\n_defineProperty(ClientStorageComponent, \"STORAGE_COOKIE\", 'cookie');\n\nexport { ClientStorageComponent as default };","map":{"version":3,"sources":["/usr/local/var/www/neutrino-web/node_modules/yii-steroids/components/ClientStorageComponent.js"],"names":["cookie","ClientStorageComponent","localStorageAvailable","sessionStorageAvailable","window","localStorage","setItem","removeItem","e","sessionStorage","name","storageName","STORAGE_LOCAL","getItem","STORAGE_SESSION","get","value","expires","set","domain","_getDomain","remove","host","location","hostname","split","slice","join"],"mappings":"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","sourcesContent":["import cookie from 'js-cookie';\n\nexport default class ClientStorageComponent {\n\n    static STORAGE_SESSION = 'session';\n    static STORAGE_LOCAL = 'local';\n    static STORAGE_COOKIE = 'cookie';\n\n    constructor() {\n        this.localStorageAvailable = true;\n        this.sessionStorageAvailable = true;\n\n        try {\n            window.localStorage.setItem('localStorageAvailable', true);\n            window.localStorage.removeItem('localStorageAvailable');\n        } catch (e) {\n            this.localStorageAvailable = false;\n        }\n\n        try {\n            window.sessionStorage.setItem('sessionStorageAvailable', true);\n            window.sessionStorage.removeItem('sessionStorageAvailable');\n        } catch (e) {\n            this.sessionStorageAvailable = false;\n        }\n    }\n\n    /**\n     * @param {string} name\n     * @param {string} [storageName]\n     * @returns {*}\n     */\n    get(name, storageName) {\n        storageName = storageName || this.STORAGE_LOCAL;\n\n        if (this.localStorageAvailable && storageName === this.STORAGE_LOCAL) {\n            return window.localStorage.getItem(name);\n        } else if (this.sessionStorageAvailable && storageName === this.STORAGE_SESSION) {\n            return window.sessionStorage.getItem(name);\n        }\n        return cookie.get(name);\n    }\n\n    /**\n     * @param {string} name\n     * @param {*} value\n     * @param {string} [storageName]\n     * @param {number|null} [expires]\n     */\n    set(name, value, storageName, expires = null) {\n        storageName = storageName || this.STORAGE_LOCAL;\n\n        if (this.localStorageAvailable && storageName === this.STORAGE_LOCAL) {\n            window.localStorage.setItem(name, value);\n        } else if (this.sessionStorageAvailable && storageName === this.STORAGE_SESSION) {\n            window.sessionStorage.setItem(name, value);\n        } else {\n            cookie.set(name, value, {\n                expires,\n                domain: this._getDomain(),\n            });\n        }\n    }\n\n    /**\n     *\n     * @param {string} name\n     * @param {string} [storageName]\n     */\n    remove(name, storageName) {\n        storageName = storageName || this.STORAGE_LOCAL;\n\n        if (this.localStorageAvailable && storageName === this.STORAGE_LOCAL) {\n            window.localStorage.removeItem(name);\n        } else if (this.sessionStorageAvailable && storageName === this.STORAGE_SESSION) {\n            window.sessionStorage.removeItem(name);\n        } else {\n            cookie.remove(name, {\n                domain: this._getDomain()\n            });\n        }\n    }\n\n    _getDomain() {\n        const host = typeof location !== 'undefined' && location.hostname || '';\n        return host.split('.').slice(-2).join('.') || host;\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}