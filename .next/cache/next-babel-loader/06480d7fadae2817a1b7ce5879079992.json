{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _isFunction from 'lodash-es/isFunction';\nimport _isObject from 'lodash-es/isObject';\nexport default class UiComponent {\n  constructor() {\n    this.fields = {};\n    this.formatters = {};\n    this.security = {};\n    this._components = {};\n  }\n\n  addViews(components) {\n    this._add('views', components);\n  }\n\n  getView(path) {\n    return this._getComponent('views', path);\n  }\n\n  addFields(components) {\n    this._add('fields', components);\n  }\n\n  getField(path) {\n    return this._getComponent('fields', path);\n  }\n\n  getFieldProps(path) {\n    return this._getPropsConfig('fields', path);\n  }\n\n  addFormatters(components) {\n    this._add('formatters', components);\n  }\n\n  getFormatter(path) {\n    return this._getComponent('formatters', path);\n  }\n\n  getFormatterProps(path) {\n    return this._getPropsConfig('formatters', path);\n  }\n\n  addSecurity(components) {\n    this._add('security', components);\n  }\n\n  getSecurity(path) {\n    return this._getComponent('security', path);\n  }\n\n  getSecurityProps(path) {\n    return this._getPropsConfig('security', path);\n  }\n\n  _add(group, items) {\n    // require.context()\n    if (_isFunction(items) && _isFunction(items.keys)) {\n      items.keys().forEach(fileName => {\n        const matches = fileName.match(/^\\.\\/(.*\\/)?[^\\/]+\\/([^\\/]+)\\.js$/);\n        const path = (matches[1] || '').replace(/\\//g, '.') + matches[2];\n        this._components[group] = this._components[group] || {};\n        this._components[group][path] = items(fileName).default;\n      });\n    } else if (_isObject(items)) {\n      // object\n      this._components[group] = _objectSpread({}, this._components[group], {}, items);\n    } else {\n      throw new Error(`Unsupported ${group} format for add component.`);\n    }\n  }\n\n  _getComponent(group, path) {\n    if (!this._components[group] || !this._components[group][path]) {\n      throw new Error(`Not found '${group}' by path '${path}'.`);\n    }\n\n    return this._components[group][path];\n  }\n\n  _getPropsConfig(group, path) {\n    return this[group] && this[group][path] || null;\n  }\n\n}","map":{"version":3,"sources":["/usr/local/var/www/neutrino-web/node_modules/yii-steroids/components/UiComponent.js"],"names":["_isFunction","_isObject","UiComponent","constructor","fields","formatters","security","_components","addViews","components","_add","getView","path","_getComponent","addFields","getField","getFieldProps","_getPropsConfig","addFormatters","getFormatter","getFormatterProps","addSecurity","getSecurity","getSecurityProps","group","items","keys","forEach","fileName","matches","match","replace","default","Error"],"mappings":"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","sourcesContent":["import _isFunction from 'lodash-es/isFunction';\nimport _isObject from 'lodash-es/isObject';\n\nexport default class UiComponent {\n\n    constructor() {\n        this.fields = {};\n        this.formatters = {};\n        this.security = {};\n\n        this._components = {};\n    }\n\n    addViews(components) {\n        this._add('views', components);\n    }\n\n    getView(path) {\n        return this._getComponent('views', path);\n    }\n\n    addFields(components) {\n        this._add('fields', components);\n    }\n\n    getField(path) {\n        return this._getComponent('fields', path);\n    }\n\n    getFieldProps(path) {\n        return this._getPropsConfig('fields', path);\n    }\n\n    addFormatters(components) {\n        this._add('formatters', components);\n    }\n\n    getFormatter(path) {\n        return this._getComponent('formatters', path);\n    }\n\n    getFormatterProps(path) {\n        return this._getPropsConfig('formatters', path);\n    }\n\n    addSecurity(components) {\n        this._add('security', components);\n    }\n\n    getSecurity(path) {\n        return this._getComponent('security', path);\n    }\n\n    getSecurityProps(path) {\n        return this._getPropsConfig('security', path);\n    }\n\n    _add(group, items) {\n        // require.context()\n        if (_isFunction(items) && _isFunction(items.keys)) {\n            items.keys().forEach(fileName => {\n                const matches = fileName.match(/^\\.\\/(.*\\/)?[^\\/]+\\/([^\\/]+)\\.js$/);\n                const path = (matches[1] || '').replace(/\\//g, '.') + matches[2];\n\n                this._components[group] = this._components[group] || {};\n                this._components[group][path] = items(fileName).default;\n            });\n        } else if (_isObject(items)) {\n            // object\n            this._components[group] = {\n                ...this._components[group],\n                ...items,\n            };\n        } else {\n            throw new Error(`Unsupported ${group} format for add component.`);\n        }\n    }\n\n    _getComponent(group, path) {\n        if (!this._components[group] || !this._components[group][path]) {\n            throw new Error(`Not found '${group}' by path '${path}'.`);\n        }\n        return this._components[group][path];\n    }\n\n    _getPropsConfig(group, path) {\n        return this[group] && this[group][path] || null;\n    }\n\n}\n"]},"metadata":{},"sourceType":"module"}