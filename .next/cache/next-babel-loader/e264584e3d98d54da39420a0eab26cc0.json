{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/usr/local/var/www/neutrino-web/src/routes/LandingPage/LandingHeader/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { html, store, dal } from 'components';\nimport { goToPage } from 'yii-steroids/actions/navigation';\nimport OutsideAlerter from 'ui/global/OutsideAlerter';\nimport CurrencyEnum from 'enums/CurrencyEnum';\nimport { GlobalLinksContext, InstallKeeperModalContext } from 'shared/Layout/context';\nconst mainLogo = '/static/images/logo.svg';\nconst arrowDown = '/static/images/landing/arrow-down.svg';\nconst burgerIcon = '/static/images/landing/burger.svg';\nconst crossIcon = '/static/images/landing/cross-icon.svg';\nimport './style.scss';\nconst bem = html.bem('LandingHeader');\n\nclass LandingHeader extends React.Component {\n  // productLinks!: Link[];\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"learnLinks\", void 0);\n\n    _defineProperty(this, \"links\", void 0);\n\n    this.mapLink = this.mapLink.bind(this);\n    this.outsideHandler = this.outsideHandler.bind(this);\n    this.triggerLearnList = this.triggerLearnList.bind(this);\n    this.triggerProductsList = this.triggerProductsList.bind(this);\n    this.hideMobileMenu = this.hideMobileMenu.bind(this);\n    this.openMobileMenu = this.openMobileMenu.bind(this);\n    this.onErrorLogin = this.onErrorLogin.bind(this);\n    this.onSuccessLogin = this.onSuccessLogin.bind(this); // this.productLinks = [\n    //     {\n    //         label: 'Neutrino dashboard',\n    //         url: '/neutrino/usd-n',\n    //     },\n    //     {\n    //         label: 'Staking dashboard',\n    //         url: 'rpd/usd-n',\n    //     },\n    //     {\n    //         label: 'Bonds dashboard',\n    //         url: '/bonds/usd-n',\n    //     },\n    //     {\n    //         label: 'Exchange',\n    //         url:\n    //             'https://dex.wavesplatform.com/dex-demo?assetId2=DG2xFkPdDwKUoBkzGAhQtLpSGzfXLiCYPEzeKH2Ad24p&assetId1=WAVES',\n    //     },\n    //     {\n    //         label: 'Transfers',\n    //         url: '/transfers/usd-n',\n    //     },\n    //     {\n    //         label: 'Invoice Generator',\n    //         url: '/invoices/usd-n',\n    //     },\n    // ];\n\n    this.links = [{\n      label: 'Products',\n      onClick: this.triggerProductsList,\n      icon: arrowDown\n    }, {\n      label: 'Learn',\n      onClick: this.triggerLearnList,\n      icon: arrowDown\n    }, {\n      label: 'Login'\n    }];\n    this.state = {\n      isProductsListVisible: false,\n      isLearnListVisible: false,\n      isMobileMenuVisible: false\n    };\n  }\n\n  hideMobileMenu() {\n    this.setState({\n      isMobileMenuVisible: false\n    });\n  }\n\n  openMobileMenu() {\n    this.setState({\n      isMobileMenuVisible: true\n    });\n  }\n\n  triggerLearnList() {\n    this.setState(prevState => ({\n      isProductsListVisible: false,\n      isLearnListVisible: !prevState.isLearnListVisible\n    }));\n  }\n\n  triggerProductsList() {\n    this.setState(prevState => ({\n      isLearnListVisible: false,\n      isProductsListVisible: !prevState.isProductsListVisible\n    }));\n  }\n\n  mapLink(_ref) {\n    let {\n      onClick = () => {},\n      label,\n      icon,\n      url\n    } = _ref,\n        restProps = _objectWithoutProperties(_ref, [\"onClick\", \"label\", \"icon\", \"url\"]);\n\n    const {\n      isProductsListVisible,\n      isLearnListVisible\n    } = this.state;\n    const isChecked = label === 'Products' && isProductsListVisible || label === 'Learn' && isLearnListVisible ? 'opened' : '';\n    return __jsx(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, __jsx(\"a\", _extends({}, restProps, {\n      href: url || '#',\n      onClick: onClick,\n      className: bem.element('h-link', isChecked),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, label), icon && __jsx(\"img\", {\n      src: icon,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })));\n  }\n\n  onSuccessLogin() {\n    store.dispatch(goToPage('neutrino', {\n      currency: CurrencyEnum.USD_N\n    }));\n  }\n\n  onErrorLogin() {}\n\n  outsideHandler() {\n    this.setState({\n      isProductsListVisible: false,\n      isLearnListVisible: false\n    });\n  }\n\n  render() {\n    // const productLinks = this.productLinks.map(this.mapLink);\n    const {\n      isProductsListVisible,\n      isLearnListVisible,\n      isMobileMenuVisible\n    } = this.state;\n    return __jsx(\"div\", {\n      className: bem.element('main'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, __jsx(GlobalLinksContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, context => __jsx(InstallKeeperModalContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, installKeeperContext => {\n      const {\n        links: currentLinks\n      } = this;\n      currentLinks[currentLinks.length - 1] = _objectSpread({}, currentLinks[currentLinks.length - 1], {\n        onClick: async () => {\n          try {\n            await dal.login();\n            store.dispatch(goToPage('neutrino', {\n              currency: CurrencyEnum.USD_N\n            }));\n          } finally {\n            installKeeperContext.openModal();\n          }\n        }\n      });\n      const links = currentLinks.map(this.mapLink);\n      const productLinks = context.product.map(this.mapLink);\n      return __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: bem.element('burger'),\n        onClick: this.openMobileMenu,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: burgerIcon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: bem.element('logo'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: mainLogo,\n        alt: \"neutrino\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"beta\")), isMobileMenuVisible && __jsx(\"div\", {\n        className: bem.element('mobile-menu'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: crossIcon,\n        alt: \"\",\n        onClick: this.hideMobileMenu,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      })), __jsx(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, links[links.length - 1], productLinks, context.links.map(this.mapLink))), __jsx(OutsideAlerter, {\n        handler: this.outsideHandler,\n        className: bem.element('actions'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, isProductsListVisible && __jsx(\"div\", {\n        className: bem.element('sub-dp', 'products'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, __jsx(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, productLinks)), isLearnListVisible && __jsx(\"div\", {\n        className: bem.element('sub-dp', 'learn'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, __jsx(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, context.links.map(this.mapLink))), __jsx(\"ul\", {\n        className: bem.element('links'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, links)));\n    })));\n  }\n\n}\n\nexport default LandingHeader;","map":{"version":3,"sources":["/usr/local/var/www/neutrino-web/src/routes/LandingPage/LandingHeader/index.tsx"],"names":["React","html","store","dal","goToPage","OutsideAlerter","CurrencyEnum","GlobalLinksContext","InstallKeeperModalContext","mainLogo","arrowDown","burgerIcon","crossIcon","bem","LandingHeader","Component","constructor","props","mapLink","bind","outsideHandler","triggerLearnList","triggerProductsList","hideMobileMenu","openMobileMenu","onErrorLogin","onSuccessLogin","links","label","onClick","icon","state","isProductsListVisible","isLearnListVisible","isMobileMenuVisible","setState","prevState","url","restProps","isChecked","element","dispatch","currency","USD_N","render","context","installKeeperContext","currentLinks","length","login","openModal","map","productLinks","product"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { html, store, dal } from 'components';\nimport { goToPage } from 'yii-steroids/actions/navigation';\nimport OutsideAlerter from 'ui/global/OutsideAlerter';\nimport CurrencyEnum from 'enums/CurrencyEnum';\nimport { GlobalLinksContext, InstallKeeperModalContext } from 'shared/Layout/context';\n\nimport { Link } from 'ui/global/types';\nconst mainLogo = '/static/images/logo.svg';\nconst arrowDown = '/static/images/landing/arrow-down.svg';\nconst burgerIcon = '/static/images/landing/burger.svg';\nconst crossIcon = '/static/images/landing/cross-icon.svg';\n\nimport './style.scss';\n\nconst bem = html.bem('LandingHeader');\n\ntype State = {\n    isProductsListVisible: boolean;\n    isLearnListVisible: boolean;\n    isMobileMenuVisible: boolean;\n};\n\nclass LandingHeader extends React.Component<{}, State> {\n    // productLinks!: Link[];\n    learnLinks!: Link[];\n    links!: Link[];\n\n    constructor(props) {\n        super(props);\n\n        this.mapLink = this.mapLink.bind(this);\n        this.outsideHandler = this.outsideHandler.bind(this);\n        this.triggerLearnList = this.triggerLearnList.bind(this);\n        this.triggerProductsList = this.triggerProductsList.bind(this);\n        this.hideMobileMenu = this.hideMobileMenu.bind(this);\n        this.openMobileMenu = this.openMobileMenu.bind(this);\n        this.onErrorLogin = this.onErrorLogin.bind(this);\n        this.onSuccessLogin = this.onSuccessLogin.bind(this);\n\n        // this.productLinks = [\n        //     {\n        //         label: 'Neutrino dashboard',\n        //         url: '/neutrino/usd-n',\n        //     },\n        //     {\n        //         label: 'Staking dashboard',\n        //         url: 'rpd/usd-n',\n        //     },\n        //     {\n        //         label: 'Bonds dashboard',\n        //         url: '/bonds/usd-n',\n        //     },\n        //     {\n        //         label: 'Exchange',\n        //         url:\n        //             'https://dex.wavesplatform.com/dex-demo?assetId2=DG2xFkPdDwKUoBkzGAhQtLpSGzfXLiCYPEzeKH2Ad24p&assetId1=WAVES',\n        //     },\n        //     {\n        //         label: 'Transfers',\n        //         url: '/transfers/usd-n',\n        //     },\n        //     {\n        //         label: 'Invoice Generator',\n        //         url: '/invoices/usd-n',\n        //     },\n        // ];\n        this.links = [\n            {\n                label: 'Products',\n                onClick: this.triggerProductsList,\n                icon: arrowDown,\n            },\n            {\n                label: 'Learn',\n                onClick: this.triggerLearnList,\n                icon: arrowDown,\n            },\n            {\n                label: 'Login',\n            },\n        ];\n\n        this.state = {\n            isProductsListVisible: false,\n            isLearnListVisible: false,\n            isMobileMenuVisible: false,\n        };\n    }\n\n    hideMobileMenu() {\n        this.setState({ isMobileMenuVisible: false });\n    }\n\n    openMobileMenu() {\n        this.setState({ isMobileMenuVisible: true });\n    }\n\n    triggerLearnList() {\n        this.setState(prevState => ({\n            isProductsListVisible: false,\n            isLearnListVisible: !prevState.isLearnListVisible,\n        }));\n    }\n\n    triggerProductsList() {\n        this.setState(prevState => ({\n            isLearnListVisible: false,\n            isProductsListVisible: !prevState.isProductsListVisible,\n        }));\n    }\n\n    mapLink({ onClick = () => {}, label, icon, url, ...restProps }: Link) {\n        const { isProductsListVisible, isLearnListVisible } = this.state;\n        const isChecked =\n            (label === 'Products' && isProductsListVisible) ||\n            (label === 'Learn' && isLearnListVisible)\n                ? 'opened'\n                : '';\n\n        return (\n            <li>\n                <a\n                    {...restProps}\n                    href={url || '#'}\n                    onClick={onClick}\n                    className={bem.element('h-link', isChecked)}\n                >\n                    <span>{label}</span>\n                    {icon && <img src={icon} alt=\"\" />}\n                </a>\n            </li>\n        );\n    }\n\n    onSuccessLogin() {\n        store.dispatch(goToPage('neutrino', { currency: CurrencyEnum.USD_N }));\n    }\n\n    onErrorLogin() {}\n\n    outsideHandler() {\n        this.setState({\n            isProductsListVisible: false,\n            isLearnListVisible: false,\n        });\n    }\n\n    render() {\n        // const productLinks = this.productLinks.map(this.mapLink);\n        const { isProductsListVisible, isLearnListVisible, isMobileMenuVisible } = this.state;\n\n        return (\n            <div className={bem.element('main')}>\n                <GlobalLinksContext.Consumer>\n                    {context => (\n                        <InstallKeeperModalContext.Consumer>\n                            {installKeeperContext => {\n                                const { links: currentLinks } = this;\n                                currentLinks[currentLinks.length - 1] = {\n                                    ...currentLinks[currentLinks.length - 1],\n                                    onClick: async () => {\n                                        try {\n                                            await dal.login();\n                                            store.dispatch(\n                                                goToPage('neutrino', {\n                                                    currency: CurrencyEnum.USD_N,\n                                                })\n                                            );\n                                        } finally {\n                                            installKeeperContext.openModal();\n                                        }\n                                    },\n                                };\n                                const links = currentLinks.map(this.mapLink);\n                                const productLinks = context.product.map(this.mapLink);\n\n                                return (\n                                    <>\n                                        <div\n                                            className={bem.element('burger')}\n                                            onClick={this.openMobileMenu}\n                                        >\n                                            <img src={burgerIcon} />\n                                        </div>\n                                        <div className={bem.element('logo')}>\n                                            <a href=\"/\">\n                                                <img src={mainLogo} alt=\"neutrino\" />\n                                            </a>\n                                            <span>beta</span>\n                                        </div>\n                                        {isMobileMenuVisible && (\n                                            <div className={bem.element('mobile-menu')}>\n                                                <div>\n                                                    <img\n                                                        src={crossIcon}\n                                                        alt=\"\"\n                                                        onClick={this.hideMobileMenu}\n                                                    />\n                                                </div>\n                                                <ul>\n                                                    {links[links.length - 1]}\n                                                    {productLinks}\n                                                    {context.links.map(this.mapLink)}\n                                                </ul>\n                                            </div>\n                                        )}\n                                        <OutsideAlerter\n                                            handler={this.outsideHandler}\n                                            className={bem.element('actions')}\n                                        >\n                                            {isProductsListVisible && (\n                                                <div className={bem.element('sub-dp', 'products')}>\n                                                    <ul>{productLinks}</ul>\n                                                </div>\n                                            )}\n                                            {isLearnListVisible && (\n                                                <div className={bem.element('sub-dp', 'learn')}>\n                                                    <ul>{context.links.map(this.mapLink)}</ul>\n                                                </div>\n                                            )}\n                                            <ul className={bem.element('links')}>{links}</ul>\n                                        </OutsideAlerter>\n                                    </>\n                                );\n                            }}\n                        </InstallKeeperModalContext.Consumer>\n                    )}\n                </GlobalLinksContext.Consumer>\n            </div>\n        );\n    }\n}\n\nexport default LandingHeader;\n"]},"metadata":{},"sourceType":"module"}