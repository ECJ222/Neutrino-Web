{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/usr/local/var/www/neutrino-web/src/routes/LandingPage/LandingHeader/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { html, store, dal } from 'components';\nimport { goToPage } from 'yii-steroids/actions/navigation';\nimport OutsideAlerter from 'ui/global/OutsideAlerter';\nimport CurrencyEnum from 'enums/CurrencyEnum';\nimport { GlobalLinksContext, InstallKeeperModalContext } from 'shared/Layout/context';\nvar mainLogo = '/static/images/logo.svg';\nvar arrowDown = '/static/images/landing/arrow-down.svg';\nvar burgerIcon = '/static/images/landing/burger.svg';\nvar crossIcon = '/static/images/landing/cross-icon.svg';\nimport './style.scss';\nvar bem = html.bem('LandingHeader');\n\nvar LandingHeader =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LandingHeader, _React$Component);\n\n  // productLinks!: Link[];\n  function LandingHeader(props) {\n    var _this;\n\n    _classCallCheck(this, LandingHeader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LandingHeader).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"learnLinks\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"links\", void 0);\n\n    _this.mapLink = _this.mapLink.bind(_assertThisInitialized(_this));\n    _this.outsideHandler = _this.outsideHandler.bind(_assertThisInitialized(_this));\n    _this.triggerLearnList = _this.triggerLearnList.bind(_assertThisInitialized(_this));\n    _this.triggerProductsList = _this.triggerProductsList.bind(_assertThisInitialized(_this));\n    _this.hideMobileMenu = _this.hideMobileMenu.bind(_assertThisInitialized(_this));\n    _this.openMobileMenu = _this.openMobileMenu.bind(_assertThisInitialized(_this));\n    _this.onErrorLogin = _this.onErrorLogin.bind(_assertThisInitialized(_this));\n    _this.onSuccessLogin = _this.onSuccessLogin.bind(_assertThisInitialized(_this)); // this.productLinks = [\n    //     {\n    //         label: 'Neutrino dashboard',\n    //         url: '/neutrino/usd-n',\n    //     },\n    //     {\n    //         label: 'Staking dashboard',\n    //         url: 'rpd/usd-n',\n    //     },\n    //     {\n    //         label: 'Bonds dashboard',\n    //         url: '/bonds/usd-n',\n    //     },\n    //     {\n    //         label: 'Exchange',\n    //         url:\n    //             'https://dex.wavesplatform.com/dex-demo?assetId2=DG2xFkPdDwKUoBkzGAhQtLpSGzfXLiCYPEzeKH2Ad24p&assetId1=WAVES',\n    //     },\n    //     {\n    //         label: 'Transfers',\n    //         url: '/transfers/usd-n',\n    //     },\n    //     {\n    //         label: 'Invoice Generator',\n    //         url: '/invoices/usd-n',\n    //     },\n    // ];\n\n    _this.links = [{\n      label: 'Products',\n      onClick: _this.triggerProductsList,\n      icon: arrowDown\n    }, {\n      label: 'Learn',\n      onClick: _this.triggerLearnList,\n      icon: arrowDown\n    }, {\n      label: 'Login'\n    }];\n    _this.state = {\n      isProductsListVisible: false,\n      isLearnListVisible: false,\n      isMobileMenuVisible: false\n    };\n    return _this;\n  }\n\n  _createClass(LandingHeader, [{\n    key: \"hideMobileMenu\",\n    value: function hideMobileMenu() {\n      this.setState({\n        isMobileMenuVisible: false\n      });\n    }\n  }, {\n    key: \"openMobileMenu\",\n    value: function openMobileMenu() {\n      this.setState({\n        isMobileMenuVisible: true\n      });\n    }\n  }, {\n    key: \"triggerLearnList\",\n    value: function triggerLearnList() {\n      this.setState(function (prevState) {\n        return {\n          isProductsListVisible: false,\n          isLearnListVisible: !prevState.isLearnListVisible\n        };\n      });\n    }\n  }, {\n    key: \"triggerProductsList\",\n    value: function triggerProductsList() {\n      this.setState(function (prevState) {\n        return {\n          isLearnListVisible: false,\n          isProductsListVisible: !prevState.isProductsListVisible\n        };\n      });\n    }\n  }, {\n    key: \"mapLink\",\n    value: function mapLink(_ref) {\n      var _ref$onClick = _ref.onClick,\n          onClick = _ref$onClick === void 0 ? function () {} : _ref$onClick,\n          label = _ref.label,\n          icon = _ref.icon,\n          url = _ref.url,\n          restProps = _objectWithoutProperties(_ref, [\"onClick\", \"label\", \"icon\", \"url\"]);\n\n      var _this$state = this.state,\n          isProductsListVisible = _this$state.isProductsListVisible,\n          isLearnListVisible = _this$state.isLearnListVisible;\n      var isChecked = label === 'Products' && isProductsListVisible || label === 'Learn' && isLearnListVisible ? 'opened' : '';\n      return __jsx(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, __jsx(\"a\", _extends({}, restProps, {\n        href: url || '#',\n        onClick: onClick,\n        className: bem.element('h-link', isChecked),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, label), icon && __jsx(\"img\", {\n        src: icon,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"onSuccessLogin\",\n    value: function onSuccessLogin() {\n      store.dispatch(goToPage('neutrino', {\n        currency: CurrencyEnum.USD_N\n      }));\n    }\n  }, {\n    key: \"onErrorLogin\",\n    value: function onErrorLogin() {}\n  }, {\n    key: \"outsideHandler\",\n    value: function outsideHandler() {\n      this.setState({\n        isProductsListVisible: false,\n        isLearnListVisible: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // const productLinks = this.productLinks.map(this.mapLink);\n      var _this$state2 = this.state,\n          isProductsListVisible = _this$state2.isProductsListVisible,\n          isLearnListVisible = _this$state2.isLearnListVisible,\n          isMobileMenuVisible = _this$state2.isMobileMenuVisible;\n      return __jsx(\"div\", {\n        className: bem.element('main'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, __jsx(GlobalLinksContext.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, function (context) {\n        return __jsx(InstallKeeperModalContext.Consumer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, function (installKeeperContext) {\n          var currentLinks = _this2.links;\n          currentLinks[currentLinks.length - 1] = _objectSpread({}, currentLinks[currentLinks.length - 1], {\n            onClick: function () {\n              var _onClick = _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee() {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        _context.next = 3;\n                        return dal.login();\n\n                      case 3:\n                        store.dispatch(goToPage('neutrino', {\n                          currency: CurrencyEnum.USD_N\n                        }));\n\n                      case 4:\n                        _context.prev = 4;\n                        installKeeperContext.openModal();\n                        return _context.finish(4);\n\n                      case 7:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[0,, 4, 7]]);\n              }));\n\n              function onClick() {\n                return _onClick.apply(this, arguments);\n              }\n\n              return onClick;\n            }()\n          });\n          var links = currentLinks.map(_this2.mapLink);\n          var productLinks = context.product.map(_this2.mapLink);\n          return __jsx(React.Fragment, null, __jsx(\"div\", {\n            className: bem.element('burger'),\n            onClick: _this2.openMobileMenu,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180\n            },\n            __self: this\n          }, __jsx(\"img\", {\n            src: burgerIcon,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184\n            },\n            __self: this\n          })), __jsx(\"div\", {\n            className: bem.element('logo'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }, __jsx(\"a\", {\n            href: \"/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }, __jsx(\"img\", {\n            src: mainLogo,\n            alt: \"neutrino\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          })), __jsx(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 190\n            },\n            __self: this\n          }, \"beta\")), isMobileMenuVisible && __jsx(\"div\", {\n            className: bem.element('mobile-menu'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }, __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194\n            },\n            __self: this\n          }, __jsx(\"img\", {\n            src: crossIcon,\n            alt: \"\",\n            onClick: _this2.hideMobileMenu,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          })), __jsx(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 201\n            },\n            __self: this\n          }, links[links.length - 1], productLinks, context.links.map(_this2.mapLink))), __jsx(OutsideAlerter, {\n            handler: _this2.outsideHandler,\n            className: bem.element('actions'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }, isProductsListVisible && __jsx(\"div\", {\n            className: bem.element('sub-dp', 'products'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213\n            },\n            __self: this\n          }, __jsx(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214\n            },\n            __self: this\n          }, productLinks)), isLearnListVisible && __jsx(\"div\", {\n            className: bem.element('sub-dp', 'learn'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 218\n            },\n            __self: this\n          }, __jsx(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219\n            },\n            __self: this\n          }, context.links.map(_this2.mapLink))), __jsx(\"ul\", {\n            className: bem.element('links'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222\n            },\n            __self: this\n          }, links)));\n        });\n      }));\n    }\n  }]);\n\n  return LandingHeader;\n}(React.Component);\n\nexport default LandingHeader;","map":{"version":3,"sources":["/usr/local/var/www/neutrino-web/src/routes/LandingPage/LandingHeader/index.tsx"],"names":["React","html","store","dal","goToPage","OutsideAlerter","CurrencyEnum","GlobalLinksContext","InstallKeeperModalContext","mainLogo","arrowDown","burgerIcon","crossIcon","bem","LandingHeader","props","mapLink","bind","outsideHandler","triggerLearnList","triggerProductsList","hideMobileMenu","openMobileMenu","onErrorLogin","onSuccessLogin","links","label","onClick","icon","state","isProductsListVisible","isLearnListVisible","isMobileMenuVisible","setState","prevState","url","restProps","isChecked","element","dispatch","currency","USD_N","context","installKeeperContext","currentLinks","length","login","openModal","map","productLinks","product","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { html, store, dal } from 'components';\nimport { goToPage } from 'yii-steroids/actions/navigation';\nimport OutsideAlerter from 'ui/global/OutsideAlerter';\nimport CurrencyEnum from 'enums/CurrencyEnum';\nimport { GlobalLinksContext, InstallKeeperModalContext } from 'shared/Layout/context';\n\nimport { Link } from 'ui/global/types';\nconst mainLogo = '/static/images/logo.svg';\nconst arrowDown = '/static/images/landing/arrow-down.svg';\nconst burgerIcon = '/static/images/landing/burger.svg';\nconst crossIcon = '/static/images/landing/cross-icon.svg';\n\nimport './style.scss';\n\nconst bem = html.bem('LandingHeader');\n\ntype State = {\n    isProductsListVisible: boolean;\n    isLearnListVisible: boolean;\n    isMobileMenuVisible: boolean;\n};\n\nclass LandingHeader extends React.Component<{}, State> {\n    // productLinks!: Link[];\n    learnLinks!: Link[];\n    links!: Link[];\n\n    constructor(props) {\n        super(props);\n\n        this.mapLink = this.mapLink.bind(this);\n        this.outsideHandler = this.outsideHandler.bind(this);\n        this.triggerLearnList = this.triggerLearnList.bind(this);\n        this.triggerProductsList = this.triggerProductsList.bind(this);\n        this.hideMobileMenu = this.hideMobileMenu.bind(this);\n        this.openMobileMenu = this.openMobileMenu.bind(this);\n        this.onErrorLogin = this.onErrorLogin.bind(this);\n        this.onSuccessLogin = this.onSuccessLogin.bind(this);\n\n        // this.productLinks = [\n        //     {\n        //         label: 'Neutrino dashboard',\n        //         url: '/neutrino/usd-n',\n        //     },\n        //     {\n        //         label: 'Staking dashboard',\n        //         url: 'rpd/usd-n',\n        //     },\n        //     {\n        //         label: 'Bonds dashboard',\n        //         url: '/bonds/usd-n',\n        //     },\n        //     {\n        //         label: 'Exchange',\n        //         url:\n        //             'https://dex.wavesplatform.com/dex-demo?assetId2=DG2xFkPdDwKUoBkzGAhQtLpSGzfXLiCYPEzeKH2Ad24p&assetId1=WAVES',\n        //     },\n        //     {\n        //         label: 'Transfers',\n        //         url: '/transfers/usd-n',\n        //     },\n        //     {\n        //         label: 'Invoice Generator',\n        //         url: '/invoices/usd-n',\n        //     },\n        // ];\n        this.links = [\n            {\n                label: 'Products',\n                onClick: this.triggerProductsList,\n                icon: arrowDown,\n            },\n            {\n                label: 'Learn',\n                onClick: this.triggerLearnList,\n                icon: arrowDown,\n            },\n            {\n                label: 'Login',\n            },\n        ];\n\n        this.state = {\n            isProductsListVisible: false,\n            isLearnListVisible: false,\n            isMobileMenuVisible: false,\n        };\n    }\n\n    hideMobileMenu() {\n        this.setState({ isMobileMenuVisible: false });\n    }\n\n    openMobileMenu() {\n        this.setState({ isMobileMenuVisible: true });\n    }\n\n    triggerLearnList() {\n        this.setState(prevState => ({\n            isProductsListVisible: false,\n            isLearnListVisible: !prevState.isLearnListVisible,\n        }));\n    }\n\n    triggerProductsList() {\n        this.setState(prevState => ({\n            isLearnListVisible: false,\n            isProductsListVisible: !prevState.isProductsListVisible,\n        }));\n    }\n\n    mapLink({ onClick = () => {}, label, icon, url, ...restProps }: Link) {\n        const { isProductsListVisible, isLearnListVisible } = this.state;\n        const isChecked =\n            (label === 'Products' && isProductsListVisible) ||\n            (label === 'Learn' && isLearnListVisible)\n                ? 'opened'\n                : '';\n\n        return (\n            <li>\n                <a\n                    {...restProps}\n                    href={url || '#'}\n                    onClick={onClick}\n                    className={bem.element('h-link', isChecked)}\n                >\n                    <span>{label}</span>\n                    {icon && <img src={icon} alt=\"\" />}\n                </a>\n            </li>\n        );\n    }\n\n    onSuccessLogin() {\n        store.dispatch(goToPage('neutrino', { currency: CurrencyEnum.USD_N }));\n    }\n\n    onErrorLogin() {}\n\n    outsideHandler() {\n        this.setState({\n            isProductsListVisible: false,\n            isLearnListVisible: false,\n        });\n    }\n\n    render() {\n        // const productLinks = this.productLinks.map(this.mapLink);\n        const { isProductsListVisible, isLearnListVisible, isMobileMenuVisible } = this.state;\n\n        return (\n            <div className={bem.element('main')}>\n                <GlobalLinksContext.Consumer>\n                    {context => (\n                        <InstallKeeperModalContext.Consumer>\n                            {installKeeperContext => {\n                                const { links: currentLinks } = this;\n                                currentLinks[currentLinks.length - 1] = {\n                                    ...currentLinks[currentLinks.length - 1],\n                                    onClick: async () => {\n                                        try {\n                                            await dal.login();\n                                            store.dispatch(\n                                                goToPage('neutrino', {\n                                                    currency: CurrencyEnum.USD_N,\n                                                })\n                                            );\n                                        } finally {\n                                            installKeeperContext.openModal();\n                                        }\n                                    },\n                                };\n                                const links = currentLinks.map(this.mapLink);\n                                const productLinks = context.product.map(this.mapLink);\n\n                                return (\n                                    <>\n                                        <div\n                                            className={bem.element('burger')}\n                                            onClick={this.openMobileMenu}\n                                        >\n                                            <img src={burgerIcon} />\n                                        </div>\n                                        <div className={bem.element('logo')}>\n                                            <a href=\"/\">\n                                                <img src={mainLogo} alt=\"neutrino\" />\n                                            </a>\n                                            <span>beta</span>\n                                        </div>\n                                        {isMobileMenuVisible && (\n                                            <div className={bem.element('mobile-menu')}>\n                                                <div>\n                                                    <img\n                                                        src={crossIcon}\n                                                        alt=\"\"\n                                                        onClick={this.hideMobileMenu}\n                                                    />\n                                                </div>\n                                                <ul>\n                                                    {links[links.length - 1]}\n                                                    {productLinks}\n                                                    {context.links.map(this.mapLink)}\n                                                </ul>\n                                            </div>\n                                        )}\n                                        <OutsideAlerter\n                                            handler={this.outsideHandler}\n                                            className={bem.element('actions')}\n                                        >\n                                            {isProductsListVisible && (\n                                                <div className={bem.element('sub-dp', 'products')}>\n                                                    <ul>{productLinks}</ul>\n                                                </div>\n                                            )}\n                                            {isLearnListVisible && (\n                                                <div className={bem.element('sub-dp', 'learn')}>\n                                                    <ul>{context.links.map(this.mapLink)}</ul>\n                                                </div>\n                                            )}\n                                            <ul className={bem.element('links')}>{links}</ul>\n                                        </OutsideAlerter>\n                                    </>\n                                );\n                            }}\n                        </InstallKeeperModalContext.Consumer>\n                    )}\n                </GlobalLinksContext.Consumer>\n            </div>\n        );\n    }\n}\n\nexport default LandingHeader;\n"]},"metadata":{},"sourceType":"module"}