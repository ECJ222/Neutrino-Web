{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { html, store, dal } from 'components';\nimport { goToPage } from 'yii-steroids/actions/navigation';\nimport OutsideAlerter from 'ui/global/OutsideAlerter';\nimport CurrencyEnum from 'enums/CurrencyEnum';\nimport { GlobalLinksContext, InstallKeeperModalContext } from 'shared/Layout/context';\nimport mainLogo from 'static/images/logo.svg';\nimport arrowDown from 'static/images/landing/arrow-down.svg';\nimport burgerIcon from 'static/images/landing/burger.svg';\nimport crossIcon from 'static/images/landing/cross-icon.svg';\nimport './style.scss';\nvar bem = html.bem('LandingHeader');\n\nvar LandingHeader =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LandingHeader, _React$Component);\n\n  // productLinks!: Link[];\n  function LandingHeader(props) {\n    var _this;\n\n    _classCallCheck(this, LandingHeader);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LandingHeader).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"learnLinks\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"links\", void 0);\n\n    _this.mapLink = _this.mapLink.bind(_assertThisInitialized(_this));\n    _this.outsideHandler = _this.outsideHandler.bind(_assertThisInitialized(_this));\n    _this.triggerLearnList = _this.triggerLearnList.bind(_assertThisInitialized(_this));\n    _this.triggerProductsList = _this.triggerProductsList.bind(_assertThisInitialized(_this));\n    _this.hideMobileMenu = _this.hideMobileMenu.bind(_assertThisInitialized(_this));\n    _this.openMobileMenu = _this.openMobileMenu.bind(_assertThisInitialized(_this));\n    _this.onErrorLogin = _this.onErrorLogin.bind(_assertThisInitialized(_this));\n    _this.onSuccessLogin = _this.onSuccessLogin.bind(_assertThisInitialized(_this)); // this.productLinks = [\n    //     {\n    //         label: 'Neutrino dashboard',\n    //         url: '/neutrino/usd-n',\n    //     },\n    //     {\n    //         label: 'Staking dashboard',\n    //         url: 'rpd/usd-n',\n    //     },\n    //     {\n    //         label: 'Bonds dashboard',\n    //         url: '/bonds/usd-n',\n    //     },\n    //     {\n    //         label: 'Exchange',\n    //         url:\n    //             'https://dex.wavesplatform.com/dex-demo?assetId2=DG2xFkPdDwKUoBkzGAhQtLpSGzfXLiCYPEzeKH2Ad24p&assetId1=WAVES',\n    //     },\n    //     {\n    //         label: 'Transfers',\n    //         url: '/transfers/usd-n',\n    //     },\n    //     {\n    //         label: 'Invoice Generator',\n    //         url: '/invoices/usd-n',\n    //     },\n    // ];\n\n    _this.links = [{\n      label: 'Products',\n      onClick: _this.triggerProductsList,\n      icon: arrowDown\n    }, {\n      label: 'Learn',\n      onClick: _this.triggerLearnList,\n      icon: arrowDown\n    }, {\n      label: 'Login'\n    }];\n    _this.state = {\n      isProductsListVisible: false,\n      isLearnListVisible: false,\n      isMobileMenuVisible: false\n    };\n    return _this;\n  }\n\n  _createClass(LandingHeader, [{\n    key: \"hideMobileMenu\",\n    value: function hideMobileMenu() {\n      this.setState({\n        isMobileMenuVisible: false\n      });\n    }\n  }, {\n    key: \"openMobileMenu\",\n    value: function openMobileMenu() {\n      this.setState({\n        isMobileMenuVisible: true\n      });\n    }\n  }, {\n    key: \"triggerLearnList\",\n    value: function triggerLearnList() {\n      this.setState(function (prevState) {\n        return {\n          isProductsListVisible: false,\n          isLearnListVisible: !prevState.isLearnListVisible\n        };\n      });\n    }\n  }, {\n    key: \"triggerProductsList\",\n    value: function triggerProductsList() {\n      this.setState(function (prevState) {\n        return {\n          isLearnListVisible: false,\n          isProductsListVisible: !prevState.isProductsListVisible\n        };\n      });\n    }\n  }, {\n    key: \"mapLink\",\n    value: function mapLink(_ref) {\n      var _ref$onClick = _ref.onClick,\n          onClick = _ref$onClick === void 0 ? function () {} : _ref$onClick,\n          label = _ref.label,\n          icon = _ref.icon,\n          url = _ref.url,\n          restProps = _objectWithoutProperties(_ref, [\"onClick\", \"label\", \"icon\", \"url\"]);\n\n      var _this$state = this.state,\n          isProductsListVisible = _this$state.isProductsListVisible,\n          isLearnListVisible = _this$state.isLearnListVisible;\n      var isChecked = label === 'Products' && isProductsListVisible || label === 'Learn' && isLearnListVisible ? 'opened' : '';\n      return __jsx(\"li\", null, __jsx(\"a\", _extends({}, restProps, {\n        href: url || '#',\n        onClick: onClick,\n        className: bem.element('h-link', isChecked)\n      }), __jsx(\"span\", null, label), icon && __jsx(\"img\", {\n        src: icon,\n        alt: \"\"\n      })));\n    }\n  }, {\n    key: \"onSuccessLogin\",\n    value: function onSuccessLogin() {\n      store.dispatch(goToPage('neutrino', {\n        currency: CurrencyEnum.USD_N\n      }));\n    }\n  }, {\n    key: \"onErrorLogin\",\n    value: function onErrorLogin() {}\n  }, {\n    key: \"outsideHandler\",\n    value: function outsideHandler() {\n      this.setState({\n        isProductsListVisible: false,\n        isLearnListVisible: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // const productLinks = this.productLinks.map(this.mapLink);\n      var _this$state2 = this.state,\n          isProductsListVisible = _this$state2.isProductsListVisible,\n          isLearnListVisible = _this$state2.isLearnListVisible,\n          isMobileMenuVisible = _this$state2.isMobileMenuVisible;\n      return __jsx(\"div\", {\n        className: bem.element('main')\n      }, __jsx(GlobalLinksContext.Consumer, null, function (context) {\n        return __jsx(InstallKeeperModalContext.Consumer, null, function (installKeeperContext) {\n          var currentLinks = _this2.links;\n          currentLinks[currentLinks.length - 1] = _objectSpread({}, currentLinks[currentLinks.length - 1], {\n            onClick: function () {\n              var _onClick = _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee() {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        _context.next = 3;\n                        return dal.login();\n\n                      case 3:\n                        store.dispatch(goToPage('neutrino', {\n                          currency: CurrencyEnum.USD_N\n                        }));\n\n                      case 4:\n                        _context.prev = 4;\n                        installKeeperContext.openModal();\n                        return _context.finish(4);\n\n                      case 7:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[0,, 4, 7]]);\n              }));\n\n              function onClick() {\n                return _onClick.apply(this, arguments);\n              }\n\n              return onClick;\n            }()\n          });\n          var links = currentLinks.map(_this2.mapLink);\n          var productLinks = context.product.map(_this2.mapLink);\n          return __jsx(React.Fragment, null, __jsx(\"div\", {\n            className: bem.element('burger'),\n            onClick: _this2.openMobileMenu\n          }, __jsx(\"img\", {\n            src: burgerIcon\n          })), __jsx(\"div\", {\n            className: bem.element('logo')\n          }, __jsx(\"a\", {\n            href: \"/\"\n          }, __jsx(\"img\", {\n            src: mainLogo,\n            alt: \"neutrino\"\n          })), __jsx(\"span\", null, \"beta\")), isMobileMenuVisible && __jsx(\"div\", {\n            className: bem.element('mobile-menu')\n          }, __jsx(\"div\", null, __jsx(\"img\", {\n            src: crossIcon,\n            alt: \"\",\n            onClick: _this2.hideMobileMenu\n          })), __jsx(\"ul\", null, links[links.length - 1], productLinks, context.links.map(_this2.mapLink))), __jsx(OutsideAlerter, {\n            handler: _this2.outsideHandler,\n            className: bem.element('actions')\n          }, isProductsListVisible && __jsx(\"div\", {\n            className: bem.element('sub-dp', 'products')\n          }, __jsx(\"ul\", null, productLinks)), isLearnListVisible && __jsx(\"div\", {\n            className: bem.element('sub-dp', 'learn')\n          }, __jsx(\"ul\", null, context.links.map(_this2.mapLink))), __jsx(\"ul\", {\n            className: bem.element('links')\n          }, links)));\n        });\n      }));\n    }\n  }]);\n\n  return LandingHeader;\n}(React.Component);\n\nexport default LandingHeader;","map":null,"metadata":{},"sourceType":"module"}